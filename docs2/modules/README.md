# 模块说明

## 模块概览

智能巡检系统采用模块化设计，各模块职责明确，接口清晰。主要包含以下核心模块：

### 1. 应用层模块 (Application)

应用层是系统的最上层，负责处理用户交互和业务流程控制。

- [详细说明](application.md)
- 核心功能：
  - 巡检任务管理
  - 系统控制接口
  - 用户交互处理
  - 业务流程编排

### 2. 网络层模块 (Network)

网络层负责系统的通信功能，提供可靠的数据传输服务。

- [详细说明](network.md)
- 核心功能：
  - 多种网络模型支持
  - TCP/IP通信
  - 连接管理
  - 数据传输

### 3. 协议层模块 (Protocol)

协议层处理数据的编解码和消息格式定义。

- [详细说明](protocol.md)
- 核心功能：
  - 协议解析
  - 消息封装
  - 数据序列化
  - 协议扩展

### 4. 状态管理模块 (State)

状态管理模块负责系统各组件的状态维护和同步。

- [详细说明](state.md)
- 核心功能：
  - 状态机实现
  - 状态同步
  - 状态持久化
  - 状态恢复

### 5. 公共组件模块 (Common)

提供系统公共功能和工具类。

- [详细说明](common.md)
- 核心功能：
  - 日志管理
  - 配置管理
  - 工具类
  - 公共接口

## 模块依赖关系

```
+-------------+     +-------------+     +-------------+
|  应用层      | --> |   状态管理   | --> |  公共组件    |
+-------------+     +-------------+     +-------------+
       |                  |                   ^
       |                  |                   |
       v                  v                   |
+-------------+     +-------------+          |
|   网络层     | --> |   协议层    | ---------+
+-------------+     +-------------+
```

## 模块通信

1. **同步通信**
   - 函数调用
   - 接口调用
   - 事件通知

2. **异步通信**
   - 消息队列
   - 事件总线
   - 回调机制

## 扩展机制

每个模块都提供了扩展点，支持功能扩展：

1. **应用层扩展**
   - 新增任务类型
   - 自定义控制逻辑
   - 界面定制

2. **网络层扩展**
   - 新增网络模型
   - 自定义传输协议
   - 连接管理策略

3. **协议层扩展**
   - 新增协议类型
   - 自定义消息格式
   - 序列化方式

4. **状态管理扩展**
   - 新增状态类型
   - 自定义状态转换
   - 状态处理策略

5. **公共组件扩展**
   - 新增工具类
   - 自定义配置项
   - 日志扩展
